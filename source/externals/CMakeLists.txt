# Setup platform
add_compile_definitions(ATMOSPHERE_IS_MESOSPHERE)
if (LINUX OR ANDROID)
    add_compile_definitions(ATMOSPHERE_OS_LINUX)
    add_compile_definitions(ATMOSPHERE_BOARD_HOST_OS)
elseif (APPLE)
    add_compile_definitions(ATMOSPHERE_OS_MACOS)
    add_compile_definitions(ATMOSPHERE_BOARD_HOST_OS)
elseif (WIN32)
    add_compile_definitions(ATMOSPHERE_OS_WINDOWS)
    add_compile_definitions(ATMOSPHERE_BOARD_HOST_OS)
elseif (QEMU)
    add_compile_definitions(ATMOSPHERE_OS_HORIZON)
    add_compile_definitions(ATMOSPHERE_BOARD_QEMU_VIRT)
else ()
    add_compile_definitions(ATMOSPHERE_OS_HORIZON)
    add_compile_definitions(ATMOSPHERE_BOARD_NINTENDO_NX)
endif ()

# Setup cpu arch
if ("arm" IN_LIST ARCHITECTURE)
    add_compile_definitions(ATMOSPHERE_ARCH_ARM)
elseif ("arm64" IN_LIST ARCHITECTURE)
    add_compile_definitions(ATMOSPHERE_ARCH_ARM64)
    add_compile_definitions(ATMOSPHERE_ARCH_ARM_V8A)
elseif ("x86_64" IN_LIST ARCHITECTURE)
    add_compile_definitions(ATMOSPHERE_ARCH_X64)
elseif ("x86" IN_LIST ARCHITECTURE)
    add_compile_definitions(ATMOSPHERE_ARCH_X86)
else ()

endif()

add_subdirectory(libvapours)
add_subdirectory(libmesosphere)